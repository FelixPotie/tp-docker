name: tp_devops

on: push

jobs:
  ci:
    runs-on : ubuntu-latest
    steps:
      - run : docker-compose up
      - run : ./gradlew assemble
      - run : ./gradlew check
      - run : ./gradlew dockerBuildImage
      - run : docker push felixpotie/tp_devops
